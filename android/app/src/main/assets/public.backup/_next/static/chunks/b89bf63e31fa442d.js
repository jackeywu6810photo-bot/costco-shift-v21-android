(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31713,e=>{"use strict";var t=e.i(43476),s=e.i(71645);let a=({tag:e})=>(0,t.jsx)("span",{className:`inline-block px-2 py-0.5 rounded-full text-xs font-medium ${{"ðŸ“· æ”å½±é»ž":"bg-purple-100 text-purple-700","ðŸš å¯ç©ºæ‹":"bg-sky-100 text-sky-700","ðŸš« ç¦ç©ºæ‹":"bg-red-100 text-red-700","ðŸŒ¸ å¿…è¨ª":"bg-pink-100 text-pink-700","ðŸŒ¸ æ«»èŠ±":"bg-pink-100 text-pink-700","â›©ï¸ å¿…è¨ª":"bg-orange-100 text-orange-700","â›©ï¸ ç¥žç¤¾":"bg-orange-100 text-orange-700","ðŸ– ç¾Žé£Ÿ":"bg-green-100 text-green-700","ðŸ± åˆé¤":"bg-emerald-100 text-emerald-700","ðŸ± æ™šé¤":"bg-emerald-100 text-emerald-700"}[e]||"bg-gray-100 text-gray-700"}`,children:e});function r(){let[e,r]=(0,s.useState)(null),[l,n]=(0,s.useState)(!0),[c,o]=(0,s.useState)(1),[i,d]=(0,s.useState)(null);(0,s.useEffect)(()=>{fetch("/data.json").then(e=>e.json()).then(e=>{e.days.forEach(e=>{e.stops&&e.stops.sort((e,t)=>e.time.localeCompare(t.time))}),r(e),n(!1)}).catch(e=>{console.error("è¼‰å…¥å¤±æ•—:",e),n(!1)})},[]);let m=t=>{if(!e)return{items:[],total:0,title:"",color:""};let s=[],a=0,r=e.trip_meta.exchange_rate||.215;e.trip_meta.home_currency;let l=e.trip_meta.destination_currency||"JPY";return e.days.forEach(e=>{"accommodation"===t&&e.accommodation_cost&&(s.push({name:e.accommodation||"ä½å®¿",cost:e.accommodation_cost,currency:e.accommodation_currency||l}),a+=e.accommodation_cost*r),e.stops?.forEach(e=>{if(e.cost>0){let n=e.currency||l;"transport"===t&&e.transport||"food"===t&&/[é¤é£Ÿéºµé£¯]|ç‰›èˆŒ|æ—©é¤/.test(e.name)?(s.push({name:e.name,cost:e.cost,currency:n}),a+=e.cost*r):"attraction"!==t||e.transport||(s.push({name:e.name,cost:e.cost,currency:n}),a+=e.cost*r)}})}),{items:s,total:Math.round(a),title:({all:"ç¸½è¦½",accommodation:"ä½å®¿",transport:"äº¤é€š",food:"é¤é£²",attraction:"é–€ç¥¨"})[t]||"",color:({all:"bg-purple-600",accommodation:"bg-sky-600",transport:"bg-rose-600",food:"bg-emerald-600",attraction:"bg-orange-500"})[t]||""}};if(l)return(0,t.jsx)("div",{className:"p-10 text-center",children:"è¼‰å…¥ä¸­...â³"});if(!e)return(0,t.jsx)("div",{className:"p-10 text-center text-red-500",children:"è¼‰å…¥å¤±æ•—ðŸ˜¢"});let x=e.days.find(e=>e.dayNumber===c),p=i?m(i):null,h=e.trip_meta.home_currency||"TWD";return(0,t.jsxs)("main",{className:"min-h-screen pb-20 bg-gradient-to-br from-pink-50 to-purple-50",children:[(0,t.jsx)("header",{className:"sticky top-0 z-50 bg-white/90 backdrop-blur shadow-sm",children:(0,t.jsxs)("div",{className:"px-4 py-3",children:[(0,t.jsx)("h1",{className:"text-lg font-bold text-pink-600 truncate",children:e.trip_meta.title}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:[e.trip_meta.location," Â· ",e.trip_meta.days_count,"å¤©"]})]})}),(0,t.jsx)("div",{className:"px-4 py-4",children:(0,t.jsx)("div",{className:"grid grid-cols-2 gap-3",children:["accommodation","transport","food","attraction"].map(e=>{let s=m(e);return(0,t.jsxs)("button",{onClick:()=>d(e),className:"bg-white p-3 rounded-xl shadow text-left active:scale-95 transition",children:[(0,t.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"accommodation"===e?"ä½å®¿":"transport"===e?"äº¤é€š":"food"===e?"é¤é£²":"é–€ç¥¨"}),(0,t.jsxs)("div",{className:"text-lg font-bold text-gray-800",children:[h," ",s.total.toLocaleString()]})]},e)})})}),(0,t.jsx)("div",{className:"px-4 mb-4",children:(0,t.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:e.days.map(e=>(0,t.jsxs)("button",{onClick:()=>o(e.dayNumber),className:`px-4 py-2 rounded-full text-sm font-bold whitespace-nowrap transition ${c===e.dayNumber?"bg-pink-500 text-white":"bg-white text-gray-600"}`,children:["Day ",e.dayNumber]},e.dayNumber))})}),x&&(0,t.jsx)("div",{className:"px-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[(0,t.jsxs)("div",{className:"p-4 border-b border-gray-100",children:[(0,t.jsxs)("h2",{className:"text-xl font-bold text-gray-800",children:["Day ",x.dayNumber,": ",x.theme]}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:x.date}),x.accommodation&&(0,t.jsxs)("div",{className:"mt-3 flex items-center gap-2 text-sm",children:[(0,t.jsx)("span",{className:"text-blue-500",children:"ðŸ¨"}),(0,t.jsx)("span",{children:x.accommodation})]}),x.alternatives&&(0,t.jsxs)("div",{className:"mt-3 p-3 bg-sky-50 rounded-lg text-sm text-sky-700",children:[(0,t.jsx)("span",{className:"font-bold",children:"ðŸŒ§ï¸ é›¨å¤©å‚™æ¡ˆï¼š"})," ",x.alternatives]}),x.checklist&&x.checklist.length>0&&(0,t.jsxs)("div",{className:"mt-3 p-3 bg-amber-50 rounded-lg",children:[(0,t.jsx)("div",{className:"text-sm font-bold text-amber-800 mb-2",children:"ðŸ“‹ ä»Šæ—¥æª¢æŸ¥æ¸…å–®"}),(0,t.jsx)("div",{className:"space-y-1",children:x.checklist.map((e,s)=>(0,t.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)("input",{type:"checkbox",className:"w-4 h-4 rounded border-amber-300"}),(0,t.jsx)("span",{className:"text-amber-900",children:e})]},s))})]})]}),(0,t.jsx)("div",{className:"p-4 space-y-4",children:x.stops.map((s,r)=>(0,t.jsxs)("div",{className:"relative pl-6 border-l-2 border-pink-200",children:[(0,t.jsx)("div",{className:"absolute -left-[9px] top-1 w-4 h-4 bg-pink-500 rounded-full border-2 border-white"}),(0,t.jsx)("div",{className:"text-xs text-gray-500 font-mono mb-1",children:s.time}),(0,t.jsx)("h3",{className:"font-bold text-gray-800",children:s.name}),s.tags&&s.tags.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-1 mt-2",children:s.tags.map((e,s)=>(0,t.jsx)(a,{tag:e},s))}),s.transport&&(0,t.jsxs)("div",{className:"mt-2 text-sm text-orange-600 bg-orange-50 px-2 py-1 rounded inline-block",children:["ðŸšƒ ",s.transport]}),s.description&&(0,t.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:s.description}),s.cost>0&&(0,t.jsx)("div",{className:"mt-2",children:((s,a)=>{if(!e)return`\xa5${s.toLocaleString()}`;let r=e.trip_meta.home_currency||"TWD",l=e.trip_meta.destination_currency||"JPY",n=Math.round(s*(e.trip_meta.exchange_rate||.215));return(0,t.jsxs)("span",{className:"flex flex-col leading-tight",children:[(0,t.jsxs)("span",{className:"font-mono",children:[a||l," ",s.toLocaleString()]}),(0,t.jsxs)("span",{className:"text-xs opacity-70",children:["â‰ˆ ",r," ",n.toLocaleString()]})]})})(s.cost,s.currency)}),s.lat&&s.lng&&(0,t.jsx)("a",{href:`https://maps.google.com/?q=${s.lat},${s.lng}`,target:"_blank",rel:"noopener noreferrer",className:"mt-2 inline-flex items-center gap-1 text-sm text-blue-600 bg-blue-50 px-3 py-1 rounded-full",children:"ðŸ“ é–‹å•Ÿåœ°åœ–"})]},r))})]})}),i&&p&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-end sm:items-center justify-center p-4",onClick:()=>d(null),children:(0,t.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-lg max-h-[80vh] overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:`p-4 ${p.color} text-white`,children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("h3",{className:"text-lg font-bold",children:[p.title,"æ˜Žç´°"]}),(0,t.jsx)("button",{onClick:()=>d(null),className:"text-2xl",children:"Ã—"})]}),(0,t.jsxs)("p",{className:"text-2xl font-bold mt-2",children:[h," ",p.total.toLocaleString()]})]}),(0,t.jsx)("div",{className:"overflow-y-auto max-h-[60vh]",children:0===p.items.length?(0,t.jsx)("div",{className:"p-8 text-center text-gray-500",children:"å°šç„¡è³‡æ–™"}):(0,t.jsx)("div",{className:"divide-y",children:p.items.map((e,s)=>(0,t.jsxs)("div",{className:"p-4 flex justify-between items-center",children:[(0,t.jsx)("span",{className:"font-medium",children:e.name}),(0,t.jsxs)("span",{className:"font-mono text-gray-600",children:[e.currency," ",e.cost.toLocaleString()]})]},s))})})]})})]})}e.s(["default",()=>r])}]);